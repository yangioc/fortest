<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1686px" preserveAspectRatio="none" style="width:1058px;height:1686px;background:#FFFFFF;" version="1.1" viewBox="0 0 1058 1686" width="1058px" zoomAndPan="magnify"><defs/><g><rect height="29.9404" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="107" x="474.25" y="15"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="97" x="479.25" y="36.8643">Matches Flow</text><ellipse cx="542.25" cy="60.9404" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="59" x="512.75" y="90.9404"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="525.75" y="115.3955">新事件</text><polygon fill="#F1F1F1" points="517.25,148.0322,567.25,148.0322,579.25,160.0322,567.25,172.0322,517.25,172.0322,505.25,160.0322,517.25,148.0322" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="520.25" y="165.449">事件編號</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="59" x="455.25" y="213.3672"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="36" x="468.25" y="237.8223">新訂單</text><polygon fill="#F1F1F1" points="462.75,270.459,506.75,270.459,518.75,282.459,506.75,294.459,462.75,294.459,450.75,282.459,462.75,270.459" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="462.75" y="287.8757">訂單類型</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="35" x="364.5" y="314.459"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="12" x="377.5" y="338.9141">買</text><rect fill="none" height="796.5171" style="stroke:#000000;stroke-width:1.5;" width="736" x="11" y="361.5508"/><path d="M133,361.5508 L133,374.4912 L123,384.4912 L11,384.4912 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="14" y="379.415">訂單資料處理工具</text><polygon fill="#F1F1F1" points="346,401.4912,418,401.4912,430,413.4912,418,425.4912,346,425.4912,334,413.4912,346,401.4912" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="349" y="418.908">訂單定價方式</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="47" x="150" y="445.4912"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="24" x="163" y="469.9463">市價</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="126" y="572.7666"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="139" y="597.2217">結算搓合訂單</text><polygon fill="#F1F1F1" points="104.5,644.8584,242.5,644.8584,254.5,656.8584,242.5,668.8584,104.5,668.8584,92.5,656.8584,104.5,644.8584" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="104.5" y="662.2751">搓合訂單數量是否全部結算?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="6" x="86.5" y="654.4414">n</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="6" x="254.5" y="654.4414">y</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="23" y="678.8584"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="36" y="703.3135">更新搓合訂單數量</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="217" y="678.8584"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="230" y="703.3135">刪除訂單資料</text><polygon fill="#F1F1F1" points="173.5,721.9502,185.5,733.9502,173.5,745.9502,161.5,733.9502,173.5,721.9502" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="102" y="502.583"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120" x="115" y="527.0381">取得當前最佳限價訂單</text><polygon fill="#F1F1F1" points="115.5,792.042,231.5,792.042,243.5,804.042,231.5,816.042,115.5,816.042,103.5,804.042,115.5,792.042" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="177.5" y="829.2925">是</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="115.5" y="809.4587">訂單數量是否全部完成?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="243.5" y="801.625">否</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="47" x="523" y="445.4912"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="24" x="536" y="469.9463">限價</text><polygon fill="#F1F1F1" points="469.5,559.6748,623.5,559.6748,635.5,571.6748,623.5,583.6748,469.5,583.6748,457.5,571.6748,469.5,559.6748" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="154" x="469.5" y="577.0916">當前最佳限價訂單價格優於訂單</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="376" y="593.6748"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120" x="389" y="618.1299">取得當前最佳限價訂單</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="143" x="574" y="593.6748"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="120" x="587" y="618.1299">取得指定價格限價訂單</text><polygon fill="#F1F1F1" points="546.5,636.7666,558.5,648.7666,546.5,660.7666,534.5,648.7666,546.5,636.7666" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="481" y="695.7666"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="108" x="494" y="720.2217">取得最早的市價訂單</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="487" y="765.9502"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="500" y="790.4053">判斷最佳搓合訂單</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="499" y="838.042"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="512" y="862.4971">結算搓合訂單</text><polygon fill="#F1F1F1" points="477.5,895.1338,615.5,895.1338,627.5,907.1338,615.5,919.1338,477.5,919.1338,465.5,907.1338,477.5,895.1338" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="138" x="477.5" y="912.5505">搓合訂單數量是否全部結算?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="6" x="459.5" y="904.7168">n</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="6" x="627.5" y="904.7168">y</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="119" x="396" y="929.1338"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="409" y="953.5889">更新搓合訂單數量</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="590" y="929.1338"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="603" y="953.5889">刪除訂單資料</text><polygon fill="#F1F1F1" points="546.5,972.2256,558.5,984.2256,546.5,996.2256,534.5,984.2256,546.5,972.2256" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="546.5,502.583,558.5,514.583,546.5,526.583,534.5,514.583,546.5,502.583" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="499.5,1016.2256,593.5,1016.2256,605.5,1028.2256,593.5,1040.2256,499.5,1040.2256,487.5,1028.2256,499.5,1016.2256" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="550.5" y="1053.4761">是</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="499.5" y="1033.6423">訂單是否全部完成?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="11" x="605.5" y="1025.8086">否</text><polygon fill="#F1F1F1" points="382,1064.9761,382,1064.9761,394,1076.9761,382,1088.9761,382,1088.9761,370,1076.9761,382,1064.9761" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="131" x="316.5" y="1108.9761"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="108" x="329.5" y="1133.4312">回傳搓合完成的訂單</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="35" x="757" y="314.459"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="12" x="770" y="338.9141">賣</text><rect fill="none" height="108.4565" style="stroke:#000000;stroke-width:1.5;" width="178" x="764.5" y="361.5508"/><path d="M886.5,361.5508 L886.5,374.4912 L876.5,384.4912 L764.5,384.4912 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="767.5" y="379.415">訂單資料處理工具</text><path d="M784.5,411.4912 L784.5,440.0073 L922.5,440.0073 L922.5,421.4912 L912.5,411.4912 L784.5,411.4912 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M912.5,411.4912 L912.5,421.4912 L922.5,421.4912 L912.5,411.4912 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="790.5" y="432.1509">與買單處理流程相同</text><polygon fill="#F1F1F1" points="484.75,1168.0679,484.75,1168.0679,496.75,1180.0679,484.75,1192.0679,484.75,1192.0679,472.75,1180.0679,484.75,1168.0679" style="stroke:#181818;stroke-width:0.5;"/><rect fill="none" height="296.2158" style="stroke:#000000;stroke-width:1.5;" width="242" x="363.75" y="1260.8184"/><path d="M485.75,1260.8184 L485.75,1273.7588 L475.75,1283.7588 L363.75,1283.7588 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="366.75" y="1278.6826">訂單資料處理工具</text><polygon fill="#F1F1F1" points="462.75,1300.7588,506.75,1300.7588,518.75,1312.7588,506.75,1324.7588,462.75,1324.7588,450.75,1312.7588,462.75,1300.7588" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="44" x="462.75" y="1318.1755">訂單類型</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="47" x="397.75" y="1344.7588"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="24" x="410.75" y="1369.2139">市價</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="373.75" y="1401.8506"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="386.75" y="1426.3057">寫入市價列表</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="47" x="518.75" y="1344.7588"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="24" x="531.75" y="1369.2139">限價</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="500.75" y="1401.8506"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="60" x="513.75" y="1426.3057">寫入限價表</text><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="107" x="488.75" y="1473.9424"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="501.75" y="1498.3975">更新價格序列表</text><polygon fill="#F1F1F1" points="484.75,1521.0342,484.75,1521.0342,496.75,1533.0342,484.75,1545.0342,484.75,1545.0342,472.75,1533.0342,484.75,1521.0342" style="stroke:#181818;stroke-width:0.5;"/><polygon fill="#F1F1F1" points="429.75,1212.0679,539.75,1212.0679,551.75,1224.0679,539.75,1236.0679,429.75,1236.0679,417.75,1224.0679,429.75,1212.0679" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="6" x="488.75" y="1249.3184">y</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="110" x="429.75" y="1229.4846">是否剩餘未完成的訂單</text><polygon fill="#F1F1F1" points="484.75,1577.0342,496.75,1589.0342,484.75,1601.0342,472.75,1589.0342,484.75,1577.0342" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#F1F1F1" height="37.0918" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="952.5" y="213.3672"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="965.5" y="237.8223">結束搓合處理</text><polygon fill="#F1F1F1" points="542.25,1611.0342,542.25,1611.0342,554.25,1623.0342,542.25,1635.0342,542.25,1635.0342,530.25,1623.0342,542.25,1611.0342" style="stroke:#181818;stroke-width:0.5;"/><ellipse cx="542.25" cy="1665.0342" rx="10" ry="10" style="stroke:#222222;stroke-width:1.5;fill:none;"/><line style="stroke:#222222;stroke-width:2.5;fill:none;" x1="536.0628" x2="548.4372" y1="1658.847" y2="1671.2214"/><line style="stroke:#222222;stroke-width:2.5;fill:none;" x1="548.4372" x2="536.0628" y1="1658.847" y2="1671.2214"/><line style="stroke:#181818;stroke-width:1.0;fill:none;" x1="542.25" x2="542.25" y1="70.9404" y2="90.9404"/><polygon fill="#181818" points="538.25,80.9404,542.25,90.9404,546.25,80.9404,542.25,84.9404" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="92.5" x2="82.5" y1="656.8584" y2="656.8584"/><line style="stroke:#181818;stroke-width:1.0;" x1="82.5" x2="82.5" y1="656.8584" y2="678.8584"/><polygon fill="#181818" points="78.5,668.8584,82.5,678.8584,86.5,668.8584,82.5,672.8584" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="254.5" x2="264.5" y1="656.8584" y2="656.8584"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="264.5" y1="656.8584" y2="678.8584"/><polygon fill="#181818" points="260.5,668.8584,264.5,678.8584,268.5,668.8584,264.5,672.8584" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="82.5" x2="82.5" y1="715.9502" y2="733.9502"/><line style="stroke:#181818;stroke-width:1.0;" x1="82.5" x2="161.5" y1="733.9502" y2="733.9502"/><polygon fill="#181818" points="151.5,729.9502,161.5,733.9502,151.5,737.9502,155.5,733.9502" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="264.5" y1="715.9502" y2="733.9502"/><line style="stroke:#181818;stroke-width:1.0;" x1="264.5" x2="185.5" y1="733.9502" y2="733.9502"/><polygon fill="#181818" points="195.5,729.9502,185.5,733.9502,195.5,737.9502,191.5,733.9502" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="173.5" x2="173.5" y1="609.8584" y2="644.8584"/><polygon fill="#181818" points="169.5,634.8584,173.5,644.8584,177.5,634.8584,173.5,638.8584" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="173.5" x2="173.5" y1="539.6748" y2="572.7666"/><polygon fill="#181818" points="169.5,562.7666,173.5,572.7666,177.5,562.7666,173.5,566.7666" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="243.5" x2="334" y1="804.042" y2="804.042"/><polygon fill="#181818" points="330,666.0854,334,656.0854,338,666.0854,334,662.0854" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="334" x2="334" y1="521.1289" y2="804.042"/><line style="stroke:#181818;stroke-width:1.0;" x1="334" x2="245" y1="521.1289" y2="521.1289"/><polygon fill="#181818" points="255,517.1289,245,521.1289,255,525.1289,251,521.1289" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="173.5" x2="173.5" y1="745.9502" y2="792.042"/><polygon fill="#181818" points="169.5,782.042,173.5,792.042,177.5,782.042,173.5,786.042" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="173.5" x2="173.5" y1="482.583" y2="502.583"/><polygon fill="#181818" points="169.5,492.583,173.5,502.583,177.5,492.583,173.5,496.583" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="457.5" x2="447.5" y1="571.6748" y2="571.6748"/><line style="stroke:#181818;stroke-width:1.0;" x1="447.5" x2="447.5" y1="571.6748" y2="593.6748"/><polygon fill="#181818" points="443.5,583.6748,447.5,593.6748,451.5,583.6748,447.5,587.6748" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="635.5" x2="645.5" y1="571.6748" y2="571.6748"/><line style="stroke:#181818;stroke-width:1.0;" x1="645.5" x2="645.5" y1="571.6748" y2="593.6748"/><polygon fill="#181818" points="641.5,583.6748,645.5,593.6748,649.5,583.6748,645.5,587.6748" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="447.5" x2="447.5" y1="630.7666" y2="648.7666"/><line style="stroke:#181818;stroke-width:1.0;" x1="447.5" x2="534.5" y1="648.7666" y2="648.7666"/><polygon fill="#181818" points="524.5,644.7666,534.5,648.7666,524.5,652.7666,528.5,648.7666" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="645.5" x2="645.5" y1="630.7666" y2="648.7666"/><line style="stroke:#181818;stroke-width:1.0;" x1="645.5" x2="558.5" y1="648.7666" y2="648.7666"/><polygon fill="#181818" points="568.5,644.7666,558.5,648.7666,568.5,652.7666,564.5,648.7666" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="546.5" x2="546.5" y1="660.7666" y2="695.7666"/><polygon fill="#181818" points="542.5,685.7666,546.5,695.7666,550.5,685.7666,546.5,689.7666" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="546.5" x2="546.5" y1="732.8584" y2="765.9502"/><polygon fill="#181818" points="542.5,755.9502,546.5,765.9502,550.5,755.9502,546.5,759.9502" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="546.5" x2="546.5" y1="803.042" y2="838.042"/><polygon fill="#181818" points="542.5,828.042,546.5,838.042,550.5,828.042,546.5,832.042" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="465.5" x2="455.5" y1="907.1338" y2="907.1338"/><line style="stroke:#181818;stroke-width:1.0;" x1="455.5" x2="455.5" y1="907.1338" y2="929.1338"/><polygon fill="#181818" points="451.5,919.1338,455.5,929.1338,459.5,919.1338,455.5,923.1338" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="627.5" x2="637.5" y1="907.1338" y2="907.1338"/><line style="stroke:#181818;stroke-width:1.0;" x1="637.5" x2="637.5" y1="907.1338" y2="929.1338"/><polygon fill="#181818" points="633.5,919.1338,637.5,929.1338,641.5,919.1338,637.5,923.1338" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="455.5" x2="455.5" y1="966.2256" y2="984.2256"/><line style="stroke:#181818;stroke-width:1.0;" x1="455.5" x2="534.5" y1="984.2256" y2="984.2256"/><polygon fill="#181818" points="524.5,980.2256,534.5,984.2256,524.5,988.2256,528.5,984.2256" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637.5" x2="637.5" y1="966.2256" y2="984.2256"/><line style="stroke:#181818;stroke-width:1.0;" x1="637.5" x2="558.5" y1="984.2256" y2="984.2256"/><polygon fill="#181818" points="568.5,980.2256,558.5,984.2256,568.5,988.2256,564.5,984.2256" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="546.5" x2="546.5" y1="875.1338" y2="895.1338"/><polygon fill="#181818" points="542.5,885.1338,546.5,895.1338,550.5,885.1338,546.5,889.1338" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="546.5" x2="546.5" y1="526.583" y2="559.6748"/><polygon fill="#181818" points="542.5,549.6748,546.5,559.6748,550.5,549.6748,546.5,553.6748" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="605.5" x2="731" y1="1028.2256" y2="1028.2256"/><polygon fill="#181818" points="727,794.4961,731,784.4961,735,794.4961,731,790.4961" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="731" x2="731" y1="514.583" y2="1028.2256"/><line style="stroke:#181818;stroke-width:1.0;" x1="731" x2="558.5" y1="514.583" y2="514.583"/><polygon fill="#181818" points="568.5,510.583,558.5,514.583,568.5,518.583,564.5,514.583" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="546.5" x2="546.5" y1="996.2256" y2="1016.2256"/><polygon fill="#181818" points="542.5,1006.2256,546.5,1016.2256,550.5,1006.2256,546.5,1010.2256" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="546.5" x2="546.5" y1="482.583" y2="502.583"/><polygon fill="#181818" points="542.5,492.583,546.5,502.583,550.5,492.583,546.5,496.583" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="334" x2="173.5" y1="413.4912" y2="413.4912"/><line style="stroke:#181818;stroke-width:1.0;" x1="173.5" x2="173.5" y1="413.4912" y2="445.4912"/><polygon fill="#181818" points="169.5,435.4912,173.5,445.4912,177.5,435.4912,173.5,439.4912" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="430" x2="546.5" y1="413.4912" y2="413.4912"/><line style="stroke:#181818;stroke-width:1.0;" x1="546.5" x2="546.5" y1="413.4912" y2="445.4912"/><polygon fill="#181818" points="542.5,435.4912,546.5,445.4912,550.5,435.4912,546.5,439.4912" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="173.5" x2="173.5" y1="816.042" y2="1076.9761"/><line style="stroke:#181818;stroke-width:1.0;" x1="173.5" x2="370" y1="1076.9761" y2="1076.9761"/><polygon fill="#181818" points="360,1072.9761,370,1076.9761,360,1080.9761,364,1076.9761" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="546.5" x2="546.5" y1="1040.2256" y2="1076.9761"/><line style="stroke:#181818;stroke-width:1.0;" x1="546.5" x2="394" y1="1076.9761" y2="1076.9761"/><polygon fill="#181818" points="404,1072.9761,394,1076.9761,404,1080.9761,400,1076.9761" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="382" x2="382" y1="1088.9761" y2="1108.9761"/><polygon fill="#181818" points="378,1098.9761,382,1108.9761,386,1098.9761,382,1102.9761" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="382" x2="382" y1="351.5508" y2="401.4912"/><polygon fill="#181818" points="378,391.4912,382,401.4912,386,391.4912,382,395.4912" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="774.5" x2="774.5" y1="351.5508" y2="1180.0679"/><line style="stroke:#181818;stroke-width:1.0;" x1="774.5" x2="496.75" y1="1180.0679" y2="1180.0679"/><polygon fill="#181818" points="506.75,1176.0679,496.75,1180.0679,506.75,1184.0679,502.75,1180.0679" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450.75" x2="382" y1="282.459" y2="282.459"/><line style="stroke:#181818;stroke-width:1.0;" x1="382" x2="382" y1="282.459" y2="314.459"/><polygon fill="#181818" points="378,304.459,382,314.459,386,304.459,382,308.459" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="518.75" x2="774.5" y1="282.459" y2="282.459"/><line style="stroke:#181818;stroke-width:1.0;" x1="774.5" x2="774.5" y1="282.459" y2="314.459"/><polygon fill="#181818" points="770.5,304.459,774.5,314.459,778.5,304.459,774.5,308.459" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="382" x2="382" y1="1146.0679" y2="1180.0679"/><line style="stroke:#181818;stroke-width:1.0;" x1="382" x2="472.75" y1="1180.0679" y2="1180.0679"/><polygon fill="#181818" points="462.75,1176.0679,472.75,1180.0679,462.75,1184.0679,466.75,1180.0679" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="484.75" x2="484.75" y1="250.459" y2="270.459"/><polygon fill="#181818" points="480.75,260.459,484.75,270.459,488.75,260.459,484.75,264.459" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="421.25" x2="421.25" y1="1381.8506" y2="1401.8506"/><polygon fill="#181818" points="417.25,1391.8506,421.25,1401.8506,425.25,1391.8506,421.25,1395.8506" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="542.25" x2="542.25" y1="1381.8506" y2="1401.8506"/><polygon fill="#181818" points="538.25,1391.8506,542.25,1401.8506,546.25,1391.8506,542.25,1395.8506" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="542.25" x2="542.25" y1="1438.9424" y2="1473.9424"/><polygon fill="#181818" points="538.25,1463.9424,542.25,1473.9424,546.25,1463.9424,542.25,1467.9424" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="450.75" x2="421.25" y1="1312.7588" y2="1312.7588"/><line style="stroke:#181818;stroke-width:1.0;" x1="421.25" x2="421.25" y1="1312.7588" y2="1344.7588"/><polygon fill="#181818" points="417.25,1334.7588,421.25,1344.7588,425.25,1334.7588,421.25,1338.7588" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="518.75" x2="542.25" y1="1312.7588" y2="1312.7588"/><line style="stroke:#181818;stroke-width:1.0;" x1="542.25" x2="542.25" y1="1312.7588" y2="1344.7588"/><polygon fill="#181818" points="538.25,1334.7588,542.25,1344.7588,546.25,1334.7588,542.25,1338.7588" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="421.25" x2="421.25" y1="1438.9424" y2="1533.0342"/><line style="stroke:#181818;stroke-width:1.0;" x1="421.25" x2="472.75" y1="1533.0342" y2="1533.0342"/><polygon fill="#181818" points="462.75,1529.0342,472.75,1533.0342,462.75,1537.0342,466.75,1533.0342" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="542.25" x2="542.25" y1="1511.0342" y2="1533.0342"/><line style="stroke:#181818;stroke-width:1.0;" x1="542.25" x2="496.75" y1="1533.0342" y2="1533.0342"/><polygon fill="#181818" points="506.75,1529.0342,496.75,1533.0342,506.75,1537.0342,502.75,1533.0342" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="484.75" x2="484.75" y1="1236.0679" y2="1300.7588"/><polygon fill="#181818" points="480.75,1290.7588,484.75,1300.7588,488.75,1290.7588,484.75,1294.7588" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="551.75" x2="615.75" y1="1224.0679" y2="1224.0679"/><polygon fill="#181818" points="611.75,1445.4263,615.75,1455.4263,619.75,1445.4263,615.75,1449.4263" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="615.75" x2="615.75" y1="1224.0679" y2="1589.0342"/><line style="stroke:#181818;stroke-width:1.0;" x1="615.75" x2="496.75" y1="1589.0342" y2="1589.0342"/><polygon fill="#181818" points="506.75,1585.0342,496.75,1589.0342,506.75,1593.0342,502.75,1589.0342" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="484.75" x2="484.75" y1="1545.0342" y2="1577.0342"/><polygon fill="#181818" points="480.75,1567.0342,484.75,1577.0342,488.75,1567.0342,484.75,1571.0342" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="484.75" x2="484.75" y1="1192.0679" y2="1212.0679"/><polygon fill="#181818" points="480.75,1202.0679,484.75,1212.0679,488.75,1202.0679,484.75,1206.0679" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="505.25" x2="484.75" y1="160.0322" y2="160.0322"/><line style="stroke:#181818;stroke-width:1.0;" x1="484.75" x2="484.75" y1="160.0322" y2="213.3672"/><polygon fill="#181818" points="480.75,203.3672,484.75,213.3672,488.75,203.3672,484.75,207.3672" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="6" x="484.75" y="192.1165">  </text><line style="stroke:#181818;stroke-width:1.0;" x1="579.25" x2="1000" y1="160.0322" y2="160.0322"/><line style="stroke:#181818;stroke-width:1.0;" x1="1000" x2="1000" y1="160.0322" y2="213.3672"/><polygon fill="#181818" points="996,203.3672,1000,213.3672,1004,203.3672,1000,207.3672" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="6" x="1000" y="192.1165">  </text><line style="stroke:#181818;stroke-width:1.0;" x1="484.75" x2="484.75" y1="1601.0342" y2="1623.0342"/><line style="stroke:#181818;stroke-width:1.0;" x1="484.75" x2="530.25" y1="1623.0342" y2="1623.0342"/><polygon fill="#181818" points="520.25,1619.0342,530.25,1623.0342,520.25,1627.0342,524.25,1623.0342" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1000" x2="1000" y1="250.459" y2="1623.0342"/><line style="stroke:#181818;stroke-width:1.0;" x1="1000" x2="554.25" y1="1623.0342" y2="1623.0342"/><polygon fill="#181818" points="564.25,1619.0342,554.25,1623.0342,564.25,1627.0342,560.25,1623.0342" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="542.25" x2="542.25" y1="128.0322" y2="148.0322"/><polygon fill="#181818" points="538.25,138.0322,542.25,148.0322,546.25,138.0322,542.25,142.0322" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="542.25" x2="542.25" y1="1635.0342" y2="1655.0342"/><polygon fill="#181818" points="538.25,1645.0342,542.25,1655.0342,546.25,1645.0342,542.25,1649.0342" style="stroke:#181818;stroke-width:1.0;"/><!--MD5=[f16013231954e3ed72ec7df854818e90]
@startuml
start
title Matches Flow
: 新事件;
switch ( 事件編號 )
case (  )
    : 新訂單;

    switch (訂單類型)
    case ()
        : 買;

        partition 訂單資料處理工具 {
            switch ( 訂單定價方式 )
            case ()
                : 市價;

                repeat : 取得當前最佳限價訂單;
                : 結算搓合訂單;
                if (搓合訂單數量是否全部結算?) then (n)
                    : 更新搓合訂單數量;
                else (y)
                    : 刪除訂單資料;
                endif
                repeat while (訂單數量是否全部完成?) is (否) not (是)
            case ()
                : 限價;

                repeat
                if (當前最佳限價訂單價格優於訂單) then
                    : 取得當前最佳限價訂單;
                else   
                    : 取得指定價格限價訂單;
                endif
                : 取得最早的市價訂單;


                : 判斷最佳搓合訂單;
                : 結算搓合訂單;
                if (搓合訂單數量是否全部結算?) then (n)
                    : 更新搓合訂單數量;
                else (y)
                    : 刪除訂單資料;
                endif
                repeat while (訂單是否全部完成?) is (否) not (是)
            endswitch
            
            : 回傳搓合完成的訂單;
        }

    case ()
        : 賣;
        partition 訂單資料處理工具 {
            note right
            與買單處理流程相同
            endnote 
        }
    endswitch

    if (是否剩餘未完成的訂單) then (y)
         partition 訂單資料處理工具 {
            switch (訂單類型)
            case ()
                : 市價;
                : 寫入市價列表;
            case ()
                : 限價;
                : 寫入限價表;
                : 更新價格序列表;
            endswitch
         }
    endif
case (  )
    : 結束搓合處理;
endswitch
end
@enduml

PlantUML version 1.2022.5(Sat Apr 30 18:55:52 CST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: MS950
Language: zh
Country: TW
--></g></svg>